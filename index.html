<!doctype html>
<html lang="es" class="h-100">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet"> 
	<!--link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"-->
	
	<link href="style.css?v=1" rel="stylesheet">
	
	<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond&display=swap" rel="stylesheet">
	
    <title>Sandra y José</title>
	<script src="modernizr-custom.js"></script>

 </head>
 
  <body class="h-100 text-center text-dark">
  <div class="overlay">
	<div style="position: absolute;bottom: 40px;left: 50%;">
		<a href="#Segundo"><i class="arrow-down"></i></a>
	</div>
  </div>
  <div class="cover-container d-flex w-100 h-100 px-4 mx-auto flex-column row js-fullheight justify-content-center align-items-center">
  
  <main class="px-3 my-5">
  
  <div class="text text-center">
<div class="rose">
</div>
<h1 class="text3d">Sandra &amp; José</h1>
<span class="subheading">21 de agosto 2021</span>
<div id="timer" class="d-flex">
<div class="time" id="days">30<span>Dias</span></div>
<div class="time pl-3" id="hours">07<span>Horas</span></div>
<div class="time pl-3" id="minutes">50<span>Minutos</span></div>
<div class="time pl-3" id="seconds">53<span>Segundos</span></div>
</div>
</div>
  </main>

</div>

<div id="Segundo" class="px-4 py-5 text-center anillos oculto">
  <div class="px-3 my-3">
  <div class="invitados text text-center" style="min-height:auto">
	<div class="py-5">
	<p id="invitado"></p>
	<p>Estás invitado!</p>
	<p>Queremos que seas parte de este momento tan importante.</p>
	</div>
  </div>
  </div>
</div>

  <div class="pt-5 text-center oculto">
  <div class="d-flex flex-column justify-content-center marco iglesia px-3">
  <div class="text3d">
	<h3 class="title">Ceremonia Eclesiástica</h3>
  </div>
  <div class="row"> 
  <div class="col-xl-6  text3d justify-content-center align-items-center d-flex">
  <div class="text text-center text-dark">
  
	<p>Sabado 21 de Agosto</p>
	<p>Hora: 5:00 <span class="font-normal-cursive">PM</span> </p>
	<p>Parroquia de Nuestra Señora del Perpetuo Socorro.</p>
	<!--p>Carrera 12 con calle 12, Frente a la plaza las palomas</p-->
	</div>
	
	
  <!--div class="overlay"></div-->
	</div>
   
  <div class="col-xl-6">
	<div class="map mx-auto">
	
		<a target="_blank" href="https://www.google.com/maps/place/Iglesia+Nuestra+Se%C3%B1ora+Del+Perpetuo+Socorro+-+El+Santuario/@7.771756,-72.227509,526m/data=!3m1!1e3!4m5!3m4!1s0x8e666c9862cb5e5b:0xb952ba374210e8eb!8m2!3d7.7720076!4d-72.2273813?hl=es-419">
		<div class="comoLlegar"></div>
		<div>Como llegar?</div>
		</a>
		<iframe class="map-frame" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1926.1347645038245!2d-72.2283903324278!3d7.771900144559843!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e666c98875e5239%3A0xb63b63ea0285d799!2sIglesia%20El%20Perpetuo%20Socorro%2C%2012%2C%20San%20Crist%C3%B3bal%205001%2C%20T%C3%A1chira!5e1!3m2!1ses-419!2sve!4v1627543512414!5m2!1ses-419!2sve" allowfullscreen="" loading="lazy"></iframe>
	</div>
</div>
  </div>
  </div>
  </div>
  
  
  <div class="pt-5 text-center oculto">
  <div class="d-flex flex-column justify-content-center marco lidotel px-3">
  <div class="text3d">
	<h3 class="title">Recepción</h3>
  </div>
  <div class="row"> 
  
  <div class="col-xl-6 text3d justify-content-center align-items-center d-flex">
  <div class="text text-center text-dark">
  
	<p>Hora: 7:30 <span class="font-normal-cursive">PM</span> </p>
	<p>Lidotel San Cristóbal.</p>
	<p>Salón Doral <span style="font-family:'Cormorant Garamond', sans-serif;font-style: italic;">III</span></p>

	<p class="valido-para">Valido para <span id="valido"></span></p>
	
	</div>
	
	
	</div>
  <div class="col-xl-6">
	<div class="map mx-auto">
		<a  target="_blank" href="https://www.google.com/maps/place/Lidotel+San+Crist%C3%B3bal/@7.7920565,-72.2362202,18z/data=!3m1!4b1!4m8!3m7!1s0x8c2af6b0c4e779ed:0x829e7b80b1b42888!5m2!4m1!1i2!8m2!3d7.7920565!4d-72.2351232">
		<div class="comoLlegar"></div>
		<div>Como llegar?</div>
		</a>
		<iframe class="map-frame" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2290.463044815674!2d-72.23622290808292!3d7.792056494357137!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8c2af6b0c4e779ed%3A0x829e7b80b1b42888!2sLidotel%20San%20Crist%C3%B3bal!5e1!3m2!1ses-419!2sve!4v1627544197976!5m2!1ses-419!2sve" allowfullscreen="" loading="lazy"></iframe>
		
		
	</div>
</div>
  
  
  </div>
  </div>
  </div>
  

<div class="px-4 py-5 text-center regalos oculto">
  <div class="px-3 my-5">
  <div class="marco invitados" style="min-height:auto">
  <div class="py-5">
	<div class="text3d">
	<h3 class="title">Regalo</h3>
  </div>
	<p>Lo más importante es tu presencia, pero si deseas hacernos un regalo...</p>
	<p>en efectivo lo sabremos apreciar.</p>
	</div>	
	</div>
  </div>
</div>

<div class="py-5 text-center area flex-column  d-flex justify-content-center oculto">
  <div class="container-md  my-4">
  <div class="invitados text text-center">
	<h3 class="text3d title">Confirmar Asistencia</h3>
	<form id="contactForm" class="was-validated">
	
<fieldset>
<div class="box-asistir">
	<legend class="box-title">
		¿Puedes asistir?
	</legend>
	<div class="form-check">
  <input class="form-check-input" type="radio" name="confirmacion" value="si" id="confirmacion1" required>
  <label class="form-check-label" for="confirmacion1">
    Sí, allí estaré
  </label>
</div>
<div class="form-check">
  <input class="form-check-input" type="radio" name="confirmacion" value="no" id="confirmacion2" required>
  <label class="form-check-label" for="confirmacion2">
    No puedo, lo siento
  </label>
<div class="invalid-feedback text-start">* obligatorio</div>
</div>
</div>
<div class="box-asistir">
  <label for="comentario" class="form-label box-title">Comentarios o preguntas</label>
  <textarea class="form-control" id="comentario" rows="3" placeholder="Tu respuesta"></textarea>
</div>

<button type="submit" class="btn btn-enviar font-normal-cursive px-5 mb-3">Enviar</button>

</fieldset>
	</form>
	
	<div id="gracias" style="display:none;" class="pt-3">
	<span>
		Gracias por enviar la Confirmación
	</span>
	</div>
	
  </div>
  </div>
</div>
<div class="bottom-audio">
	<button id="sound-bottom" class="mute-sound"></button>
</div>
<audio id="music">
  <!--source src="Hasta Mi Final.ogg" type="audio/ogg"-->
  <source src="Hasta Mi Final.mp3" type="audio/mpeg">
</audio>

  <script>
    
	var audioPlay = true;
	var url_string = window.location.href
	var url = new URL(url_string);
	var c = url.searchParams.get("i");
	
	const LISTA = {
	'412f0703':['Francisco Gonzalez',1],
	'188f043f':['Tía Nancy',1],
	'1d1d04aa':['Tía Gladys',1],
	'19080454':['Tía Yumar',1],
	'10700356':['Tía Ana',1],
	'6421086d':['Carlos Eduardo y Esposa',2],
	'634f0852':['Eduardo Parada y Esposa',2],
	'820b09b0':['Neomar Colmenares y Esposa',2],
	'26e80536':['Zenaida Rangel',1],
	'1b09043c':['Mary y Nacho',2],
	'25990510':['Franco y Norma',2],
	
	'267a056a':['Alix Rodriguez',1],
	'213904da':['Yohan Camargo',1],
	'214a04da':['Zoila Camargo',1],
	'1d29049e':['Jhony Carrero',1],
	'222f0501':['Tía Mariela',1],
	'22420506':['Tía Matilde',1],
	'21c504f0':['Tía Cecilia',1],
	'2260050a':['Tío Gabriel',1],
	'2309052e':['Tío Gonzalo',1],
	'1d4a04a3':['Tía Martha',1],
	'37c6063d':['Walter y Angelica',2],
	'32a10632':['Karina Rodríguez',1],
	'2b660598':['Abuela Herminia',1],
	'4b9c076b':['Reina Vivas y Esposo',2],
	'2659053c':['Javier Camargo',2],
	'21ce04d0':['Yubany y Paty',2],
	'2c74059f':['Rubiela Camargo',1],
	'2737054c':['Yasmin Camargo',1],
	'4b6f0765':['Tio Nazario y Esposa',2],
	'204904c8':['Anita Camargo',1],
	'0a5c024f':['Yuly M.',1],
	'11970380':['Sr. Alonso',1],
	'3be9068b':['Tio Pedro y Esposa',2],
	
	'767d08d6':['Sr. Rafael y Sra. Noris.',2],
	'393e05fa':['Sr. Oswaldo y Sra.',2],
	'0b870295':['Sra. Leo',2],
	'6dfa08df':['Sr. Freddy Vivas y Esposa',2],
	'37290639':['Freddy Jose Vivas',1],
	'878509bf':['Freddy Javier y Novia',2],
		
	'2e2905e4':['Lourdes Marquez',1],
	'2c3605c1':['Angelo Gonzalez',1],
	'2d5505d6':['Sharon Gonzalez',1],
	'314e05fa':['Gianna Angelucci',1],
	'414106f2':['Steffany Marciales',1],
	'138d03a7':['Rejab Ezzi',1],
	'21cb04f5':['Samuel Galviz',1],
	'216c04ea':['Moise Georges',1],
	'227904e6':['William Verde',1],
		           
	'320805f9':['Pierina y Victor',2],
	'2d6605c4':['Daymiry y novio',2],
	'258b053e':['Mafer y Esposo',2],
	'74720927':['Clemente y Lisbeth',2],
	'663608a3':['Manuel Huertas y Esposa',2],
		
	'3a570695':['Rossana Fernandez',1],
	'0aa202bd':['Maribel',1],
	'0a4302bc':['Cachito',1],
	'05a00209':['Betty',1],
	'03d8019e':['Luis Mora',1],
	'32eb05fb':['Alexis Urbina',1],
	'1152038f':['Isabelita',1],
	'0aae02cf':['Genesis',1],
	'0809026b':['Marilu',1],
	'75830930':['Sr. Hugo Ceballos y Esposa',2],
	
	'77390945':['Sr. Dennis Castro y Esposa',2],
	'32110602':['Sr. Hugo Castillo',1],
	'64f20872':['Sr. Regulo Lobo y Esposa',2],
	'333a05e0':['Sra. Mohebia Sosa',1],
	'2c650597':['Juan C. Quintero',1],
	'b35e0bb2':['Sra. Elizabeth Chacón y Esposo',2],
	
	'18680435':['Luis Porras',1],
	'1c5b0483':['José Noguera',1],
	'2dd705c2':['Norelys Duitama',1],
	'382f064e':['Sr. Eudes y Esposa',2],
	'269e0565':['Flor Contreras',1],
	'2bdc05c1':['Capitán Cacua',1],
	'40050705':['Sr. Jesús Barrera',1],
	'2756054b':['Sr. Luis Suarez',1],
	'0b1302d6':['Olguita',1],
	'07a80244':['Alicia',1],

	'8eb90a58':['Sr. Jesús Mendoza y Esposa',2],
	'33f105c1':['Sr. Luis A. Ocaris',1],
	'2d1605ac':['Anderson Davila',1],
	'214e04e5':['Monica Galviz',1],
	'3230061d':['Andres Hernandez',1],
	'777d0942':['Sr. Gerardo Peréz y Esposa',2],	
	
	'3978066d':['Francisco Barajas',1],
	'7a270980':['Eduardo Quintero y Esposa',2],
	'209904cd':['Cielo Arrocha ',1],
	'1d800495':['Wilmer Duque',1],
	'5ada079f':['Sr. Carlos Pena y Esposa.',2],
	'a00b0ab4':['Sr. Alfredo Hernandez y Esposa',2],
	'19ae049f':['Juana Díaz',1],
	'8d6209f0':['Nickols Manrique y Esposa',2],
	
	'26e90542':['Benedito Ariza',1],
	'12a90395':['Tia Carmen',1],
	'225f0506':['Belquis Moros',1],
	'24ff0516':['Erika y Wilmer',2],
	'275c0550':['Moraima Valero',1],
	'1c44048c':['Denis Santos',1],
	
	'34ca0632':['Guillermo Zapata',1],
	'5ef40843':['Sr. Nikelson y Leximara',2],
	'171a0409':['Ilia Valero',1],
	'13c203b4':['Luz Marina',1],
	'27310561':['Emily Montilla',1],
	'2d4805b5':['Rodolfo Barrera',1],
	'207604bb':['Ronal y Marly',2],
	'055f01e7':['Belen',1]
	
	
	
	}
	
      document.addEventListener('DOMContentLoaded', () => { 
        //===
        // VARIABLES
        //===
        const DATE_TARGET = new Date('08/21/2021 5:01 PM');
        // DOM for render
        const SPAN_DAYS = document.querySelector('#days');
        const SPAN_HOURS = document.querySelector('#hours');
        const SPAN_MINUTES = document.querySelector('#minutes');
        const SPAN_SECONDS = document.querySelector('#seconds');
        // Milliseconds for the calculations
        const MILLISECONDS_OF_A_SECOND = 1000;
        const MILLISECONDS_OF_A_MINUTE = MILLISECONDS_OF_A_SECOND * 60;
        const MILLISECONDS_OF_A_HOUR = MILLISECONDS_OF_A_MINUTE * 60;
        const MILLISECONDS_OF_A_DAY = MILLISECONDS_OF_A_HOUR * 24

        //===
        // FUNCTIONS
        //===

        /**
        * Method that updates the countdown and the sample
        */
        function updateCountdown() {
            // Calcs
            const NOW = new Date()
            const DURATION = DATE_TARGET - NOW;
            const REMAINING_DAYS = Math.floor(DURATION / MILLISECONDS_OF_A_DAY);
            const REMAINING_HOURS = Math.floor((DURATION % MILLISECONDS_OF_A_DAY) / MILLISECONDS_OF_A_HOUR);
            const REMAINING_MINUTES = Math.floor((DURATION % MILLISECONDS_OF_A_HOUR) / MILLISECONDS_OF_A_MINUTE);
            const REMAINING_SECONDS = Math.floor((DURATION % MILLISECONDS_OF_A_MINUTE) / MILLISECONDS_OF_A_SECOND);
            
            // Render
            SPAN_DAYS.innerHTML = REMAINING_DAYS + '<span>Dias</span>';
            SPAN_HOURS.innerHTML = REMAINING_HOURS + '<span>Horas</span>';
            SPAN_MINUTES.innerHTML = REMAINING_MINUTES + '<span>Minutos</span>';
            SPAN_SECONDS.innerHTML = REMAINING_SECONDS + '<span>Segundos</span>';
        }
        //===
        // INIT
        //===
        updateCountdown();
        // Refresh every second
        setInterval(updateCountdown, MILLISECONDS_OF_A_SECOND);
		
		
		// -------------------------------------------------------------
		
		var inv = document.querySelector('#invitado');
		
		if(c){
			if(LISTA[c]){
				inv.innerHTML = LISTA[c][0];
				
				var valido = document.getElementById("valido");				
				valido.innerHTML = String(LISTA[c][1]) + (LISTA[c][1]>1? " Personas": " Persona");
				
				var ocultos = document.getElementsByClassName("oculto");
				var countO = ocultos.length;
				for(i=0;i < countO;i++){
					ocultos[0].classList.remove("oculto");
				};
			}
		}
		
		
		window.addEventListener('scroll', function(e) {
			if(audioPlay){
				var x = document.getElementById("music");
				var mi = x.play();
				if (mi !== undefined) {
					mi.then(_ => {
						var soundBottom = document.getElementById("sound-bottom");
						soundBottom.className = "play-sound";
						audioPlay = false;
					});
				}
			}
		});
		window.addEventListener('mousedown', e => {
			if(audioPlay){
				var x = document.getElementById("music");
				var mi = x.play();
				if (mi !== undefined) {
					mi.then(_ => {
						var soundBottom = document.getElementById("sound-bottom");
						soundBottom.className = "play-sound";
						audioPlay = false;
					});
					
				}
			}	
		});
		
    });
	
	var soundBottom = document.getElementById("sound-bottom");
	soundBottom.addEventListener('mousedown', e => {
		var musica = document.getElementById("music");
		if (soundBottom.className != "play-sound") {
			soundBottom.className = "play-sound";
			musica.play();
	
		} else {
			soundBottom.className = "mute-sound";
			musica.pause();
		}
	});

    </script>
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	
	</body>
	
<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>
<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script>
  var firebaseConfig = {
    apiKey: "AIzaSyArP3zJv4jdLBTKmhB4hx35VLLHT9BfZIk",
    authDomain: "boda-bf50a.firebaseapp.com",
	databaseURL: "https://boda-bf50a-default-rtdb.firebaseio.com/",
    projectId: "boda-bf50a",
    storageBucket: "boda-bf50a.appspot.com",
    messagingSenderId: "418310487848",
    appId: "1:418310487848:web:2e50f6867bc68c83a8da1d"
  };
  firebase.initializeApp(firebaseConfig);
  
  //--------------------
  const form = document.getElementById('contactForm'); 
    if(form){ 
      form.addEventListener('submit', contactForm);
    }

    function contactForm(event) {
      event.preventDefault();
	  var asistira = false;
      var seleccion = document.getElementsByName('confirmacion');
	  for(sel of seleccion){
		if(sel.checked){
			asistira = sel.value;
			break;
		}
	  }
	  if(asistira){
		const comentario = document.getElementById("comentario");
		const NOW = new Date();
		const creado = NOW.getDay()+ '/' + NOW.getMonth() + '/' + NOW.getFullYear() + ' ' +NOW.getHours()+":"+NOW.getMinutes();
		const data = {
			'codigo': c,
			'nombre': LISTA[c][0],
			'asistira': asistira,
			'Comentario': comentario.value,
			'creado': creado
		};
		saveContactForm(data); 
		form.reset();
	  }
    }

  function saveContactForm(data) {
    firebase.database().ref('invitacion').push(data)
      .then(function(){
		form.style.display = "none";
		var gracias = document.getElementById('gracias');
		gracias.style.display = "block";
      })
      .catch(function(){
        alert('mensaje No guardado, Vuelve a intentarlo!');
      });
  };
  
</script>
</html>
